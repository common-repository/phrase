(()=>{var e={530:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",r="second",s="minute",a="hour",l="day",o="week",i="month",c="quarter",u="year",h="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},_=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:_,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),s=n%60;return(t<=0?"+":"-")+_(r,2,"0")+":"+_(s,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(r,i),a=n-s<0,l=t.clone().add(r+(a?-1:1),i);return+(-(r+(n-s)/(a?s-l:l-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:i,y:u,w:o,d:l,D:h,h:a,m:s,s:r,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},E="en",y={};y[E]=f;var T=function(e){return e instanceof v},P=function e(t,n,r){var s;if(!t)return E;if("string"==typeof t){var a=t.toLowerCase();y[a]&&(s=a),n&&(y[a]=n,s=a);var l=t.split("-");if(!s&&l.length>1)return e(l[0])}else{var o=t.name;y[o]=t,s=o}return!r&&s&&(E=s),s||!r&&E},S=function(e,t){if(T(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new v(n)},N=g;N.l=P,N.i=T,N.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var v=function(){function f(e){this.$L=P(e.locale,null,!0),this.parse(e)}var _=f.prototype;return _.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(N.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var s=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},_.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},_.$utils=function(){return N},_.isValid=function(){return!(this.$d.toString()===d)},_.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},_.isAfter=function(e,t){return S(e)<this.startOf(t)},_.isBefore=function(e,t){return this.endOf(t)<S(e)},_.$g=function(e,t,n){return N.u(e)?this[t]:this.set(n,e)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(e,t){var n=this,c=!!N.u(t)||t,d=N.p(e),p=function(e,t){var r=N.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return c?r:r.endOf(l)},m=function(e,t){return N.w(n.toDate()[e].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,_=this.$M,g=this.$D,E="set"+(this.$u?"UTC":"");switch(d){case u:return c?p(1,0):p(31,11);case i:return c?p(1,_):p(0,_+1);case o:var y=this.$locale().weekStart||0,T=(f<y?f+7:f)-y;return p(c?g-T:g+(6-T),_);case l:case h:return m(E+"Hours",0);case a:return m(E+"Minutes",1);case s:return m(E+"Seconds",2);case r:return m(E+"Milliseconds",3);default:return this.clone()}},_.endOf=function(e){return this.startOf(e,!1)},_.$set=function(e,t){var o,c=N.p(e),d="set"+(this.$u?"UTC":""),p=(o={},o[l]=d+"Date",o[h]=d+"Date",o[i]=d+"Month",o[u]=d+"FullYear",o[a]=d+"Hours",o[s]=d+"Minutes",o[r]=d+"Seconds",o[n]=d+"Milliseconds",o)[c],m=c===l?this.$D+(t-this.$W):t;if(c===i||c===u){var f=this.clone().set(h,1);f.$d[p](m),f.init(),this.$d=f.set(h,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},_.set=function(e,t){return this.clone().$set(e,t)},_.get=function(e){return this[N.p(e)]()},_.add=function(n,c){var h,d=this;n=Number(n);var p=N.p(c),m=function(e){var t=S(d);return N.w(t.date(t.date()+Math.round(e*n)),d)};if(p===i)return this.set(i,this.$M+n);if(p===u)return this.set(u,this.$y+n);if(p===l)return m(1);if(p===o)return m(7);var f=(h={},h[s]=e,h[a]=t,h[r]=1e3,h)[p]||1,_=this.$d.getTime()+n*f;return N.w(_,this)},_.subtract=function(e,t){return this.add(-1*e,t)},_.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=e||"YYYY-MM-DDTHH:mm:ssZ",s=N.z(this),a=this.$H,l=this.$m,o=this.$M,i=n.weekdays,c=n.months,u=function(e,n,s,a){return e&&(e[n]||e(t,r))||s[n].slice(0,a)},h=function(e){return N.s(a%12||12,e,"0")},p=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:N.s(o+1,2,"0"),MMM:u(n.monthsShort,o,c,3),MMMM:u(c,o),D:this.$D,DD:N.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,i,2),ddd:u(n.weekdaysShort,this.$W,i,3),dddd:i[this.$W],H:String(a),HH:N.s(a,2,"0"),h:h(1),hh:h(2),a:p(a,l,!0),A:p(a,l,!1),m:String(l),mm:N.s(l,2,"0"),s:String(this.$s),ss:N.s(this.$s,2,"0"),SSS:N.s(this.$ms,3,"0"),Z:s};return r.replace(m,(function(e,t){return t||f[e]||s.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(n,h,d){var p,m=N.p(h),f=S(n),_=(f.utcOffset()-this.utcOffset())*e,g=this-f,E=N.m(this,f);return E=(p={},p[u]=E/12,p[i]=E,p[c]=E/3,p[o]=(g-_)/6048e5,p[l]=(g-_)/864e5,p[a]=g/t,p[s]=g/e,p[r]=g/1e3,p)[m]||g,d?E:N.a(E)},_.daysInMonth=function(){return this.endOf(i).$D},_.$locale=function(){return y[this.$L]},_.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=P(e,t,!0);return r&&(n.$L=r),n},_.clone=function(){return N.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},f}(),C=v.prototype;return S.prototype=C,[["$ms",n],["$s",r],["$m",s],["$H",a],["$W",l],["$M",i],["$y",u],["$D",h]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,v,S),e.$i=!0),S},S.locale=P,S.isDayjs=T,S.unix=function(e){return S(1e3*e)},S.en=y[E],S.Ls=y,S.p={},S}()},703:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(e,t,n,s){return r.fromToBase(e,t,n,s)}n.en.relativeTime=s,r.fromToBase=function(t,r,a,l,o){for(var i,c,u,h=a.$locale().relativeTime||s,d=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=d.length,m=0;m<p;m+=1){var f=d[m];f.d&&(i=l?n(t).diff(a,f.d,!0):a.diff(t,f.d,!0));var _=(e.rounding||Math.round)(Math.abs(i));if(u=i>0,_<=f.r||!f.r){_<=1&&m>0&&(f=d[m-1]);var g=h[f.l];o&&(_=o(""+_)),c="string"==typeof g?g.replace("%d",_):g(_,r,f.l,u);break}}if(r)return c;var E=u?h.future:h.past;return"function"==typeof E?E(c):E.replace("%s",c)},r.to=function(e,t){return a(e,t,this,!0)},r.from=function(e,t){return a(e,t,this)};var l=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(l(this),e)},r.fromNow=function(e){return this.from(l(this),e)}}}()},263:function(e){e.exports=function(){"use strict";return function(e,t,n){n.updateLocale=function(e,t){var r=n.Ls[e];if(r)return(t?Object.keys(t):[]).forEach((function(e){r[e]=t[e]})),r}}}()},14:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,s,a){var l=s.prototype;a.utc=function(e){return new s({date:e,utc:!0,args:arguments})},l.utc=function(t){var n=a(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var o=l.parse;l.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var i=l.init;l.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else i.call(this)};var c=l.utcOffset;l.utcOffset=function(r,s){var a=this.$utils().u;if(a(r))return this.$u?0:a(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var s=(""+r[0]).match(n)||["-",0,0],a=s[0],l=60*+s[1]+ +s[2];return 0===l?0:"+"===a?l:-l}(r),null===r))return this;var l=Math.abs(r)<=16?60*r:r,o=this;if(s)return o.$offset=l,o.$u=0===r,o;if(0!==r){var i=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(l+i,e)).$offset=l,o.$x.$localOffset=i}else o=this.utc();return o};var u=l.format;l.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},l.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(e){return"s"===e&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var d=l.diff;l.diff=function(e,t,n){if(e&&this.$u===e.$u)return d.call(this,e,t,n);var r=this.local(),s=a(e).local();return d.call(r,s,t,n)}}}()}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{getLocales:()=>C,getProjects:()=>v,getStatus:()=>N,getTranslations:()=>w});var t={};n.r(t),n.d(t,{getCurrentLocaleId:()=>A,getCurrentProjectId:()=>$,getLastUsedProject:()=>Y,getLocales:()=>I,getPreferences:()=>z,getProjects:()=>b,getPullTranslationsPreConditionChecks:()=>B,getPullTranslationsPreConditionChecksCount:()=>G,getSource:()=>V,getStatus:()=>L,getTranslations:()=>U,hasInitialContentPush:()=>x,hasLocaleId:()=>k,hasProjectId:()=>O,isEditedPostTranslation:()=>j,isPullingTranslation:()=>F,isPullingTranslations:()=>M,isPushingContent:()=>R,isPushingTranslation:()=>D,isSupportedPostType:()=>H});var r={};n.r(r),n.d(r,{clearPullTranslationsPreConditionChecks:()=>se,fetchLocales:()=>q,fetchLocalesFailure:()=>X,fetchProjects:()=>K,fetchProjectsFailure:()=>Z,fetchTranslations:()=>ee,fetchTranslationsFailure:()=>ne,pullTranslation:()=>pe,pullTranslations:()=>ue,pullTranslationsPreConditionChecks:()=>re,pushContent:()=>oe,pushTranslation:()=>_e,receiveLocales:()=>Q,receiveProjects:()=>W,receiveTranslations:()=>te,setStatus:()=>J,startPullingTranslation:()=>he,startPullingTranslations:()=>ie,startPushingContent:()=>ae,startPushingTranslation:()=>me,stopPullingTranslation:()=>de,stopPullingTranslations:()=>ce,stopPushingContent:()=>le,stopPushingTranslation:()=>fe,updateLastUsedProject:()=>ge});const s=window.wp.dataControls,a=window.wp.data,l=window.lodash,o=(0,a.combineReducers)({lastUsedProject:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_LAST_USED_PROJECT"===t.type?t.id:e}}),i=(0,a.combineReducers)({status:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_STATUS"===t.type?t.status:e},preferences:o,projects:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,results:[],error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_PROJECTS":return{...e,results:t.projects,isFetching:!1};case"FETCH_PROJECTS":return{...e,isFetching:!0,error:null};case"FETCH_PROJECTS_FAILURE":return{...e,isFetching:!1,error:t.error};default:return e}},locales:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:{},results:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_LOCALES":return{...e,results:{...e.results,[t.projectId]:t.locales},isFetching:(0,l.omit)(e.isFetching,t.projectId)};case"FETCH_LOCALES":return{...e,isFetching:{...e.isFetching,[t.projectId]:!0},error:(0,l.omit)(e.error,t.projectId)};case"FETCH_LOCALES_FAILURE":return{...e,isFetching:(0,l.omit)(e.isFetching,t.projectId),error:{...e.error,[t.projectId]:t.error}};default:return e}},translations:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,results:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_TRANSLATIONS":return{...e,results:t.translations,isFetching:!1};case"FETCH_TRANSLATIONS":return{...e,isFetching:!0};case"FETCH_TRANSLATIONS_FAILURE":return{...e,isFetching:!1};default:return e}},isPushingContent:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_PUSHING_CONTENT":return!0;case"STOP_PUSHING_CONTENT":return!1}return e},isPushingTranslation:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_PUSHING_TRANSLATION":return!0;case"STOP_PUSHING_TRANSLATION":return!1}return e},isPullingTranslations:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_PULLING_TRANSLATIONS":return!0;case"STOP_PULLING_TRANSLATIONS":return!1}return e},isPullingTranslation:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_PULLING_TRANSLATION":return!0;case"STOP_PULLING_TRANSLATION":return!1}return e},pullTranslationsPreConditionChecks:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:0,checks:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_PULLING_TRANSLATIONS":case"CLEAR_TRANSLATIONS_PRE_CONDITION_CHECKS":return{count:0,checks:null};case"SET_TRANSLATIONS_PRE_CONDITION_CHECKS":return{count:t.count,checks:t.checks}}return e}}),c="PUSH_CONTENT_NOTICE_ID",u="GET_LOCALES_NOTICE_ID",h="GET_PROJECTS_NOTICE_ID",d="GET_TRANSLATIONS_NOTICE_ID",p="PULL_TRANSLATIONS_NOTICE_ID",m="PULL_TRANSLATION_NOTICE_ID",f="PUSH_TRANSLATION_NOTICE_ID",_="phrase_locale",g="phrase_project",E=window.wp.i18n;function y(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"%s";return t="argument_error"===e.code?(0,E.sprintf)(n,(0,E.sprintf)(// translators: %s: Failure reason. */
(0,E.__)('An internal argument error occurred ("%s").',"phrase"),e.message)):(0,E.sprintf)(n,e.message),t}function T(e){const{error:t}=e;return[y(t,// translators: %s: Failure reason. */
(0,E.__)("Pushing content failed: %s","phrase")),{id:c}]}function P(e){const{error:t}=e;return[y(t,// translators: %s: Failure reason. */
(0,E.__)("Pulling translations failed: %s","phrase")),{id:p}]}function S(e){const{error:t}=e;return[y(t,// translators: %s: Failure reason. */
(0,E.__)("Pushing translation failed: %s","phrase")),{id:f}]}function*N(){try{const e=yield(0,s.apiFetch)({path:"/phrase/v1/status"});yield(0,s.dispatch)(Ee,"setStatus",e)}catch{}}function*v(){yield(0,s.dispatch)(Ee,"fetchProjects"),yield(0,s.dispatch)("core/notices","removeNotice",h);try{const e=yield(0,s.apiFetch)({path:"/phrase/v1/projects"});yield(0,s.dispatch)(Ee,"receiveProjects",e)}catch(e){yield(0,s.dispatch)("core/notices","createErrorNotice",...function(e){const{error:t}=e;return[y(t,// translators: %s: Failure reason. */
(0,E.__)("Retrieving projects failed: %s","phrase")),{id:h}]}({error:e})),yield(0,s.dispatch)(Ee,"fetchProjectsFailure",e)}}function*C(e){yield(0,s.dispatch)(Ee,"fetchLocales"),yield(0,s.dispatch)("core/notices","removeNotice",u);try{const t=yield(0,s.apiFetch)({path:`/phrase/v1/locales?project_id=${e}`});yield(0,s.dispatch)(Ee,"receiveLocales",e,t)}catch(t){yield(0,s.dispatch)("core/notices","createErrorNotice",...function(e){const{error:t}=e;return[y(t,// translators: %s: Failure reason. */
(0,E.__)("Retrieving locales failed: %s","phrase")),{id:u}]}({error:t})),yield(0,s.dispatch)(Ee,"fetchLocalesFailure",e,t)}}function*w(){yield(0,s.dispatch)(Ee,"fetchTranslations"),yield(0,s.dispatch)("core/notices","removeNotice",d);const e=yield(0,s.select)("core/editor","getCurrentPostId");try{const t=yield(0,s.apiFetch)({path:`/phrase/v1/translations/${e}`});yield(0,s.dispatch)(Ee,"receiveTranslations",t)}catch(e){yield(0,s.dispatch)("core/notices","createErrorNotice",...function(e){const{error:t}=e;return[y(t,// translators: %s: Failure reason. */
(0,E.__)("Retrieving translations failed: %s","phrase")),{id:d}]}({error:e})),yield(0,s.dispatch)(Ee,"fetchLocalesFailure",e)}}function L(e){return e.status}function b(e){return e.projects.results||[]}function I(e,t){return e.locales.results?.[t]||[]}const $=(0,a.createRegistrySelector)((e=>()=>e("core/editor").getEditedPostAttribute(g)||""));function O(e){return!!$(e)}const A=(0,a.createRegistrySelector)((e=>()=>e("core/editor").getEditedPostAttribute(_)||""));function k(e){return!!A(e)}function R(e){return e.isPushingContent}function D(e){return e.isPushingTranslation}function M(e){return e.isPullingTranslations}function F(e){return e.isPullingTranslation}const x=(0,a.createRegistrySelector)((e=>()=>H()&&e("core/editor").getEditedPostAttribute("meta").phrase_has_initial_content_push||!1));function U(e){return e.translations.results||[]}const j=(0,a.createRegistrySelector)((e=>()=>!!e("core/editor").getCurrentPost().phrase_source_post)),H=(0,a.createRegistrySelector)((e=>()=>{const t=e("core/editor").getCurrentPostType();return"post"===t||"page"===t})),V=(0,a.createRegistrySelector)((e=>()=>e("core/editor").getCurrentPost().phrase_source_post||null));function B(e){return e.pullTranslationsPreConditionChecks.checks||null}function G(e){return e.pullTranslationsPreConditionChecks.count||0}function z(e){return e.preferences}function Y(e){return z(e).lastUsedProject||null}function J(e){return{type:"SET_STATUS",status:e}}function K(){return{type:"FETCH_PROJECTS"}}function W(e){return{type:"RECEIVE_PROJECTS",projects:e}}function Z(e){return{type:"FETCH_PROJECTS_FAILURE",error:e}}function q(e){return{type:"FETCH_LOCALES",projectId:e}}function Q(e,t){return{type:"RECEIVE_LOCALES",projectId:e,locales:t}}function X(e){return{type:"FETCH_LOCALES_FAILURE",error:e}}function ee(){return{type:"FETCH_TRANSLATIONS"}}function te(e){return{type:"RECEIVE_TRANSLATIONS",translations:e}}function ne(e,t){return{type:"FETCH_TRANSLATIONS_FAILURE",projectId:e,error:t}}function re(e,t){return{type:"SET_TRANSLATIONS_PRE_CONDITION_CHECKS",checks:e,count:t}}function se(){return{type:"CLEAR_TRANSLATIONS_PRE_CONDITION_CHECKS"}}function ae(){return{type:"START_PUSHING_CONTENT"}}function le(){return{type:"STOP_PUSHING_CONTENT"}}function*oe(e){let{skipUnverification:t=!1}=e;yield(0,s.dispatch)(Ee,"startPushingContent"),yield(0,s.dispatch)("core/notices","removeNotice",c),(yield(0,s.select)("core/editor","isEditedPostDirty"))&&(yield(0,s.dispatch)("core/editor","savePost"),yield(0,s.dispatch)("core/notices","removeNotice","SAVE_POST_NOTICE_ID"));const n=yield(0,s.select)("core/editor","getCurrentPostId"),r=yield(0,s.select)(Ee,"getCurrentProjectId"),a=yield(0,s.select)(Ee,"getCurrentLocaleId"),l=yield(0,s.select)(Ee,"hasInitialContentPush");let o,i,u,h,d,p;try{const e=yield(0,s.apiFetch)({path:"/phrase/v1/push-content",method:"POST",data:{post_id:n,project_id:r,locale_id:a,skip_unverification:t}});o=e.id,i=e.state,u=e.translation_created,h=e.translation_updated,d=e.app_editor_url,p=e.app_upload_url}catch(e){return yield(0,s.dispatch)("core/notices","createErrorNotice",...T({error:e})),void(yield(0,s.dispatch)(Ee,"stopPushingContent"))}for(;"initialized"===i||"processing"===i;)try{const e=yield(0,s.apiFetch)({path:`/phrase/v1/push-content/${o}?project_id=${r}`});i=e.state,u=e.translation_created,h=e.translation_updated,d=e.app_editor_url,p=e.app_upload_url}catch(e){return yield(0,s.dispatch)("core/notices","createErrorNotice",...T({error:e})),void(yield(0,s.dispatch)(Ee,"stopPushingContent"))}l||(yield(0,s.dispatch)("core/editor","editPost",{meta:{phrase_has_initial_content_push:!0}})),yield(0,s.dispatch)("core/editor","savePost"),yield(0,s.dispatch)("core/notices","removeNotice","SAVE_POST_NOTICE_ID");let m="";u&&(m+=" "+(0,E.sprintf)(// translators: %d: Number of created translations.
(0,E._n)("%d translation created.","%d translations created.",u,"phrase"),u)),h&&(m+=" "+(0,E.sprintf)(// translators: %d: Number of created translations.
(0,E._n)("%d translation updated.","%d translations updated.",h,"phrase"),h)),m=m.trim(),m||(m=(0,E.__)("Upload done without changes.","phrase"));const f=[];p&&f.push({url:p,label:(0,E.__)("Create a job","phrase"),className:"phrase-push-content-notice-action"}),d&&f.push({url:d,label:(0,E.__)("Open in Phrase","phrase"),className:"phrase-push-content-notice-action is-secondary",noDefaultClasses:!0}),yield(0,s.dispatch)("core/notices","createSuccessNotice",m,{id:c,actions:f}),yield(0,s.dispatch)(Ee,"stopPushingContent")}function ie(){return{type:"START_PULLING_TRANSLATIONS"}}function ce(){return{type:"STOP_PULLING_TRANSLATIONS"}}function*ue(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];yield(0,s.dispatch)(Ee,"startPullingTranslations"),yield(0,s.dispatch)("core/notices","removeNotice",p);const n=yield(0,s.select)("core/editor","getCurrentPostId");try{const r=yield(0,s.apiFetch)({path:`/phrase/v1/translations/${n}`,method:"POST",data:{locales:e,force:t}});yield(0,s.dispatch)(Ee,"receiveTranslations",r)}catch(e){"pre_conditions_failed"===e.code?yield(0,s.dispatch)(Ee,"pullTranslationsPreConditionChecks",e.data.checks,e.data.count):yield(0,s.dispatch)("core/notices","createErrorNotice",...P({error:e}))}yield(0,s.dispatch)("core/notices","createSuccessNotice",(0,E.__)("Pulled translations successfully.","phrase"),{id:p}),yield(0,s.dispatch)(Ee,"stopPullingTranslations")}function he(){return{type:"START_PULLING_TRANSLATION"}}function de(){return{type:"STOP_PULLING_TRANSLATION"}}function*pe(){yield(0,s.dispatch)(Ee,"startPullingTranslation"),yield(0,s.dispatch)("core/notices","removeNotice",m);const e=yield(0,s.select)("core/editor","getCurrentPostId"),t=yield(0,s.select)(Ee,"getCurrentLocaleId");yield(0,s.dispatch)("core/editor","savePost"),yield(0,s.dispatch)("core/notices","removeNotice","SAVE_POST_NOTICE_ID");try{const n=yield(0,s.apiFetch)({path:`/phrase/v1/translations/${e}`,method:"POST",data:{locales:[t],force:!0}});yield(0,s.dispatch)(Ee,"receiveTranslations",n)}catch(e){return yield(0,s.dispatch)("core/notices","createErrorNotice",...function(e){const{error:t}=e;return[y(t,// translators: %s: Failure reason. */
(0,E.__)("Pulling translation failed: %s","phrase")),{id:m}]}({error:e})),void(yield(0,s.dispatch)(Ee,"stopPullingTranslation"))}yield(0,s.dispatch)("core/notices","createSuccessNotice",(0,E.__)("Pulled translation successfully. Reloading the post…","phrase"),{id:m}),window.location.reload()}function me(){return{type:"START_PUSHING_TRANSLATION"}}function fe(){return{type:"STOP_PUSHING_TRANSLATION"}}function*_e(){yield(0,s.dispatch)(Ee,"startPushingTranslation"),yield(0,s.dispatch)("core/notices","removeNotice",f),(yield(0,s.select)("core/editor","isEditedPostDirty"))&&(yield(0,s.dispatch)("core/editor","savePost"),yield(0,s.dispatch)("core/notices","removeNotice","SAVE_POST_NOTICE_ID"));const e=yield(0,s.select)("core/editor","getCurrentPostId");let t,n,r,a,l;try{const o=yield(0,s.apiFetch)({path:"/phrase/v1/push-translation",method:"POST",data:{post_id:e}});t=o.id,n=o.state,r=o.translation_created,a=o.translation_updated,l=o.app_editor_url}catch(e){return yield(0,s.dispatch)("core/notices","createErrorNotice",...S({error:e})),void(yield(0,s.dispatch)(Ee,"stopPushingTranslation"))}for(;"initialized"===n||"processing"===n;)try{const o=yield(0,s.apiFetch)({path:`/phrase/v1/push-translation/${t}?post_id=${e}`});n=o.state,r=o.translation_created,a=o.translation_updated,l=o.app_editor_url}catch(e){return yield(0,s.dispatch)("core/notices","createErrorNotice",...S({error:e})),void(yield(0,s.dispatch)(Ee,"stopPushingTranslation"))}let o="";r&&(o+=(0,E.sprintf)(// translators: %d: Number of created translations.
(0,E._n)("%d translation created.","%d translations created.",r,"phrase"),r)),a&&(o+=" "+(0,E.sprintf)(// translators: %d: Number of created translations.
(0,E._n)("%d translation updated.","%d translations updated.",a,"phrase"),a)),o=o.trim();const i=[];o?l&&i.push({url:l,label:(0,E.__)("Open in Phrase","phrase"),className:"phrase-push-content-notice-action is-secondary",noDefaultClasses:!0}):o=(0,E.__)("Upload done without changes.","phrase"),yield(0,s.dispatch)("core/notices","createSuccessNotice",o,{id:c,actions:i}),yield(0,s.dispatch)(Ee,"stopPushingTranslation")}function ge(e){return{type:"UPDATE_LAST_USED_PROJECT",id:e}}const Ee="phrase/data",ye={reducer:i,controls:s.controls,selectors:t,resolvers:e,actions:r,persist:["preferences"]},Te=((0,a.registerStore)(Ee,ye),window.wp.element),Pe={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Se;const Ne=new Uint8Array(16);function ve(){if(!Se&&(Se="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Se))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Se(Ne)}const Ce=[];for(let e=0;e<256;++e)Ce.push((e+256).toString(16).slice(1));const we=function(e,t,n){if(Pe.randomUUID&&!t&&!e)return Pe.randomUUID();const r=(e=e||{}).random||(e.rng||ve)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(Ce[e[t+0]]+Ce[e[t+1]]+Ce[e[t+2]]+Ce[e[t+3]]+"-"+Ce[e[t+4]]+Ce[e[t+5]]+"-"+Ce[e[t+6]]+Ce[e[t+7]]+"-"+Ce[e[t+8]]+Ce[e[t+9]]+"-"+Ce[e[t+10]]+Ce[e[t+11]]+Ce[e[t+12]]+Ce[e[t+13]]+Ce[e[t+14]]+Ce[e[t+15]]).toLowerCase()}(r)},Le=window.wp.hooks,be=window.wp.compose,Ie=window.wp.blockEditor,$e=window.wp.components,Oe=e=>{let{attributes:t,setAttributes:n,name:r,isSelected:s}=e;return(0,Te.useEffect)((()=>{t.phraseKeyName||n({phraseKeyName:`${r}.${we()}`})}),[t.phraseKeyName,n,r]),s?(0,Te.createElement)(Ie.InspectorAdvancedControls,null,(0,Te.createElement)($e.TextControl,{className:"html-anchor-control",label:(0,E.__)("Phrase key name","phrase"),value:t.phraseKeyName||"",readOnly:!0})):null},Ae=(0,be.createHigherOrderComponent)((e=>t=>(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)(e,t),(0,Te.createElement)(Oe,t))),"withAdvancedControlKeyName");(0,Le.addFilter)("blocks.registerBlockType","phrase/keyname/attribute",(function(e){return e.attributes={...e.attributes,phraseKeyName:{type:"string",default:""}},e})),(0,Le.addFilter)("editor.BlockEdit","phrase/keyname/set-attribute",Ae);const ke=window.wp.plugins,Re=window.wp.editPost;function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}const Me=window.wp.primitives,Fe=e=>(0,Te.createElement)(Me.SVG,De({width:69,height:100,viewBox:"0 0 69 100",fill:"none"},e),(0,Te.createElement)(Me.Path,{d:"M48.7672 0H5.65125C2.6376 0 0.194824 2.44277 0.194824 5.45642V73.3207C0.194824 76.3343 2.6376 78.7771 5.65125 78.7771H34.1031V68.5463H10.4256V10.2308H48.7672C53.8526 10.2308 57.9749 14.3531 57.9749 19.4385V59.3386C57.9749 64.424 53.8526 68.5463 48.7672 68.5463H40.5826C39.8292 68.5463 39.2185 69.1571 39.2185 69.9104V77.413C39.2185 78.1667 39.8292 78.7771 40.5826 78.7771H48.7672C59.5027 78.7771 68.2057 70.0744 68.2057 59.3386V19.4385C68.2057 8.703 59.5027 0 48.7672 0Z",fill:"#101010"}),(0,Te.createElement)(Me.Path,{d:"M25.3246 98.8624L4.26965 82.7063C1.57793 80.641 0 77.4412 0 74.0487V5.46722C0 0.943161 5.18905 -1.61589 8.77801 1.13824L29.8333 17.2944C32.5247 19.3596 34.1026 22.5595 34.1026 25.952V94.5334C34.1026 99.0575 28.9139 101.617 25.3246 98.8624Z",fill:"#00F0B3"})),{Fill:xe,Slot:Ue}=(0,$e.createSlotFill)("PhrasePluginSidebar");(0,ke.registerPlugin)("phrase-plugin-sidebar",{render:()=>(0,Te.createElement)(Ue,null,(e=>e.length?(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)(Re.PluginSidebarMoreMenuItem,{target:"phrase",icon:(0,Te.createElement)(Fe,{className:"phrase-app-logo",height:24,width:24})},"Phrase Strings"),(0,Te.createElement)(Re.PluginSidebar,{name:"phrase",icon:(0,Te.createElement)(Fe,{className:"phrase-app-logo",height:24,width:24}),title:"Phrase Strings",className:"phrase-plugin-sidebar"},(0,Te.createElement)("div",{className:"phrase-plugin-sidebar__content"},(0,Te.createElement)($e.PanelBody,{initialOpen:!0},e)),(0,Te.createElement)("div",{className:"phrase-plugin-sidebar__footer"},(0,Te.createElement)("p",null,(0,Te.createInterpolateElement)((0,E.__)("<Logo /> Powered by <PhraseLink>Phrase</PhraseLink> · <PhraseSupportLink>Help & Support</PhraseSupportLink>","phrase"),{Logo:(0,Te.createElement)(Fe,{height:14,width:10}),PhraseLink:(0,Te.createElement)($e.ExternalLink,{href:"https://phrase.com/"}),PhraseSupportLink:(0,Te.createElement)($e.ExternalLink,{href:"https://help.phrase.com/help/wordpress-plugin"})}))))):null))});const{Fill:je,Slot:He}=(0,$e.createSlotFill)("PhrasePluginSidebarContentSource"),{Fill:Ve,Slot:Be}=(0,$e.createSlotFill)("PhrasePluginSidebarContentTranslation"),Ge=()=>{const{hasApiToken:e,isSupportedType:t,isTranslations:n}=(0,a.useSelect)((e=>{const{getStatus:t,isSupportedPostType:n,isEditedPostTranslation:r}=e(Ee);return{hasApiToken:t()?.has_key||!1,isSupportedType:n(),isTranslations:r()}}));return e?t?(0,Te.createElement)(Te.Fragment,null,n?(0,Te.createElement)(Be,null,(e=>e.length?(0,Te.createElement)(xe,null,e):null)):(0,Te.createElement)(He,null,(e=>e.length?(0,Te.createElement)(xe,null,e):null))):(0,Te.createElement)(xe,null,(0,Te.createElement)($e.PanelRow,{className:"phrase-unsupported-type"},(0,Te.createElement)($e.Tip,null,(0,E.__)("Phrase plugin supports only posts and pages.","phrase")))):(0,Te.createElement)(xe,null,(0,Te.createElement)($e.PanelRow,{className:"phrase-missing-key"},(0,Te.createElement)($e.Tip,null,(0,E.__)("To use Phrase please enter an API access token in the settings.","phrase"))))};(0,ke.registerPlugin)("phrase-plugin-sidebar-content",{render:()=>(0,Te.createElement)(Ge,null)});const ze=e=>{let{code:t}=e;const[n,r]=t.split("-");return r?(0,Te.createElement)("img",{src:`${window.PHRASE_ASSETS_URL}/images/flags/${r}.png`,alt:"",height:16,width:16,className:"phrase-locale-flag"}):(0,Te.createElement)("span",{className:"phrase-locale-flag-unknown"},(0,Te.createElement)("span",{className:"phrase-locale-flag-unknown__inner"},n))},Ye=e=>{let{children:t}=e;const{hasApiToken:n,hasContentPush:r}=(0,a.useSelect)((e=>{const{getStatus:t,hasInitialContentPush:n}=e(Ee);return{hasApiToken:t()?.has_key||!1,hasContentPush:n()}}));return n&&r?t:null},Je=()=>{const{locale:e}=(0,a.useSelect)((e=>{const{getLocales:t,getCurrentLocaleId:n,getCurrentProjectId:r}=e(Ee);return{locale:(0,l.find)(t(r()),{id:n()})||null}}),[]),{createInfoNotice:t}=(0,a.useDispatch)("core/notices");return(0,Te.useEffect)((()=>{if(!e)return;const n=(0,Te.renderToString)((0,Te.createElement)(ze,{code:e.code}));t((0,E.sprintf)(// translators: 1: Locale name, 2: Locale icon.
(0,E.__)("%1$s %2$s - source content","phrase"),n,e?.name||(0,E.__)("Loading…","phrase")),{id:"phrase-source-info-notice",speak:!1,__unstableHTML:!0,isDismissible:!1})}),[e]),null};(0,ke.registerPlugin)("phrase-source-info-notice",{render:()=>(0,Te.createElement)(Ye,null,(0,Te.createElement)(Je,null))});const Ke=e=>{let{children:t,isPushed:n=!1}=e;return(0,a.useSelect)((e=>e(Ee).hasInitialContentPush()),[])!==n?null:t},We=window.wp.coreData,Ze=()=>{const{updateLastUsedProject:e}=(0,a.useDispatch)(Ee),{projects:t,lastUsedProject:n}=(0,a.useSelect)((e=>{const{getProjects:t,getLastUsedProject:n}=e(Ee);return{projects:t(),lastUsedProject:n()}})),r=(0,a.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[s,o]=(0,We.useEntityProp)("postType",r,g),i=[{value:"",label:(0,E.__)("— Select —","phrase")}];t.forEach((e=>i.push({value:e.id,label:e.name})));const c=s?(0,l.find)(t,{id:s}):null;return(0,Te.useEffect)((()=>{s!==n&&o(n)}),[]),(0,Te.useEffect)((()=>{s!==n&&e(s||null)}),[s]),(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)($e.SelectControl,{label:(0,E.__)("Select the project:","phrase"),value:s,onChange:e=>o(e),options:i}),c&&(0,Te.createElement)("p",null,(0,Te.createElement)($e.ExternalLink,{href:c.url},(0,E.__)("Open project in Phrase","phrase"))))};(0,ke.registerPlugin)("phrase-project-selection",{render:()=>(0,Te.createElement)(Ke,null,(0,Te.createElement)(je,null,(0,Te.createElement)($e.PanelRow,{className:"phrase-project-selection"},(0,Te.createElement)(Ze,null))))});const qe=()=>{const e=(0,a.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[t,n]=(0,We.useEntityProp)("postType",e,_),[r]=(0,We.useEntityProp)("postType",e,g),s=(0,a.useSelect)((e=>r?e(Ee).getLocales(r):[]),[r]),o=(0,l.find)(s,{default:!0})?.id||"";(0,Te.useEffect)((()=>{!t&&o&&n(o)}),[t,o]);const i=s.length?s.map((e=>({value:e.id,label:e.name}))):[{value:null,label:""}];return(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)($e.SelectControl,{label:(0,E.__)("My post is written in:","phrase"),value:t,onChange:e=>n(e),options:i,disabled:!r||!s.length}))};(0,ke.registerPlugin)("phrase-locale-selection",{render:()=>(0,Te.createElement)(Ke,null,(0,Te.createElement)(je,null,(0,Te.createElement)($e.PanelRow,{className:"phrase-locale-selection"},(0,Te.createElement)(qe,null))))});const Qe=(0,Te.createElement)(Me.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,Te.createElement)(Me.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})),Xe=()=>{const{pushContent:e}=(0,a.useDispatch)(Ee),{isPostSaveable:t,isPostSaving:n}=(0,a.useSelect)((e=>{const{isEditedPostSaveable:t,isSavingPost:n}=e("core/editor");return{isPostSaveable:t(),isPostSaving:n()}}),[]),{hasProject:r,hasLocale:s,isProcessing:l}=(0,a.useSelect)((e=>{const{hasProjectId:t,hasLocaleId:n,isPushingContent:r}=e(Ee);return{hasProject:t(),hasLocale:n(),isProcessing:r()}}),[]);return(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)($e.Button,{icon:Qe,isPrimary:!0,isBusy:l,onClick:e,className:"phrase-push-content",disabled:!r||!s||l||!t},(0,E.__)("Push content","phrase")),(!r||!s||!t)&&!n&&(0,Te.createElement)($e.Tip,null,(0,E.__)("To get started please select a project, set the language and don't forget to write some content.","phrase")))};(0,ke.registerPlugin)("phrase-initial-content-push",{render:()=>(0,Te.createElement)(Ke,null,(0,Te.createElement)(je,null,(0,Te.createElement)($e.PanelRow,{className:"phrase-initial-content-push"},(0,Te.createElement)(Xe,null))))});const et=function(e){let{icon:t,size:n=24,...r}=e;return(0,Te.cloneElement)(t,{width:n,height:n,...r})},tt=(0,Te.createElement)(Me.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,Te.createElement)(Me.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),nt=(0,Te.createElement)(Me.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,Te.createElement)(Me.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));var rt=n(530),st=n.n(rt),at=n(703),lt=n.n(at),ot=n(263),it=n.n(ot),ct=n(14),ut=n.n(ct);st().extend(ut()),st().extend(lt(),{thresholds:[{l:"s",r:1},{l:"ss",r:59,d:"second"},{l:"m",r:1},{l:"mm",r:59,d:"minute"},{l:"h",r:1},{l:"hh",r:23,d:"hour"},{l:"d",r:1},{l:"dd",r:29,d:"day"},{l:"M",r:1},{l:"MM",r:11,d:"month"},{l:"y"},{l:"yy",d:"year"}]}),st().extend(it()),st().updateLocale("en",{relativeTime:{
// translators: %s: Human-readable time difference.
future:(0,E._x)("in %s","relative time","phrase"),
// translators: %s: Human-readable time difference.
past:(0,E._x)("%s ago","relative time","phrase"),
// translators: Time difference between two dates, in seconds.
s:(0,E._x)("1 sec","relative time","phrase"),
// translators: Time difference between two dates, in seconds. %d: Number of seconds.
ss:(0,E._x)("%d sec","relative time","phrase"),
// translators: Time difference between two dates, in minutes.
m:(0,E._x)("1 min","relative time","phrase"),
// translators: Time difference between two dates, in minutes. %d: Number of minutes.
mm:(0,E._x)("%d min","relative time","phrase"),
// translators: Time difference between two dates, in hours.
h:(0,E._x)("1 hour","relative time","phrase"),
// translators: Time difference between two dates, in hours. %d: Number of hours.
hh:(0,E._x)("%d hours","relative time","phrase"),
// translators: Time difference between two dates, in days.
d:(0,E._x)("1 day","relative time","phrase"),
// translators: Time difference between two dates, in days. %d: Number of days.
dd:(0,E._x)("%d days","relative time","phrase"),
// translators: Time difference between two dates, in months.
M:(0,E._x)("1 month","relative time","phrase"),
// translators: Time difference between two dates, in months. %d: Number of months.
MM:(0,E._x)("%d months","relative time","phrase"),
// translators: Time difference between two dates, in years.
y:(0,E._x)("a year","relative time","phrase"),
// translators: Time difference between two dates, in years. %d: Number of years.
yy:(0,E._x)("%d years","relative time","phrase")}});const ht=e=>{let{as:t="time",format:n,fromNow:r,children:s,...a}=e;const[l,o]=(0,Te.useState)(new Date),[i,c]=(0,Te.useState)("");return(0,Te.useEffect)((()=>{if(!r)return;const e=setInterval((()=>o(new Date)),6e4);return()=>clearInterval(e)}),[r]),(0,Te.useEffect)((()=>{const e=s?st().utc(s):st().utc();if(n)return c(e.local().format(n));if(r){const t=st().utc().diff(e,"second",!0);return c(t<15?(0,E._x)("now","relative time","phrase"):st().utc().to(e))}return c(e.format())}),[s,n,r,l]),(0,Te.createElement)(t,a,i)},dt=(0,Te.createElement)(Me.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,Te.createElement)(Me.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 15v5H20v-5h-1.5zM4 15v5h1.5v-5H4z"}),(0,Te.createElement)(Me.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M4 20h16v-1.5H4V20z"}),(0,Te.createElement)(Me.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M17.743 12.78l-5.757 5.757-6.28-5.733 1.012-1.108 4.494 4.104V4.003h1.5v11.686l3.97-3.97 1.06 1.061z"})),pt=()=>{const e=(0,a.useSelect)((e=>{const{getProjects:t,getCurrentProjectId:n}=e(Ee);return(0,l.find)(t(),{id:n()})}),[]);return e?(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)("span",null,(0,E.__)("Project","phrase")),(0,Te.createElement)($e.ExternalLink,{href:e.url,className:"phrase-selected-project__name"},e.name)):null},mt=(0,Te.createElement)(Me.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,Te.createElement)(Me.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"})),ft=window.wp.keycodes,_t=e=>{let{children:t}=e;const[n,r]=(0,Te.useState)(!1);return(0,Te.createElement)("span",{className:"phrase-help-tooltip",onClick:()=>r(!n),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onKeyDown:e=>{ft.ENTER===e.keyCode&&r(!n)},role:"button",tabIndex:0},(0,Te.createElement)(et,{className:"phrase-help-tooltip__icon",icon:mt}),n&&(0,Te.createElement)($e.Popover,{className:"phrase-help-tooltip__popover",focusOnMount:!1},t))},gt=(0,Te.createElement)(Me.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,Te.createElement)(Me.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),Et=()=>(0,Te.createElement)($e.Tooltip,{text:(0,E._x)("Not started","translation progress","phrase")},(0,Te.createElement)("span",{className:"phrase-status-not-started"},"–")),yt=()=>(0,Te.createElement)($e.Tooltip,{text:(0,E._x)("In progress","translation progress","phrase")},(0,Te.createElement)("span",{className:"phrase-status-in-progress"})),Tt=()=>(0,Te.createElement)($e.Tooltip,{text:(0,E._x)("Completed","translation progress","phrase")},(0,Te.createElement)("span",{className:"phrase-status-completed"},(0,Te.createElement)(et,{icon:gt}))),Pt=()=>{const e=(0,a.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[t]=(0,We.useEntityProp)("postType",e,"phrase_last_updated"),n=(0,a.useSelect)((e=>{const{getLocales:t,getCurrentLocaleId:n,getCurrentProjectId:r}=e(Ee);return(0,l.find)(t(r()),{id:n()})}),[]);return n?(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)("span",null,(0,E.__)("Source content","phrase")),(0,Te.createElement)("table",{className:"phrase-translation-progress__table"},(0,Te.createElement)("thead",null,(0,Te.createElement)("tr",null,(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--locale"},(0,E.__)("Language","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--status"},(0,E.__)("Status","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--update"},(0,E.__)("Last update","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--edit"}))),(0,Te.createElement)("tbody",null,(0,Te.createElement)("tr",null,(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--locale"},(0,Te.createElement)("span",{className:"phrase-locale-name-with-flag"},(0,Te.createElement)(ze,{code:n.code}),(0,Te.createElement)("span",{className:"phrase-locale-name"},n.name))),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--status"},(0,Te.createElement)(Tt,null)),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--update"},(0,Te.createElement)(ht,{fromNow:!0},t)),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--edit"}))))):null},St=()=>{const[e,t]=(0,Te.useState)(!1),{pushContent:n,pullTranslation:r}=(0,a.useDispatch)(Ee),{isPushing:s,isPulling:l}=(0,a.useSelect)((e=>{const{isPushingContent:t,isPullingTranslation:n}=e(Ee);return{isPushing:t(),isPulling:n()}}),[]);return(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)("div",{className:"phrase-checkbox-skip-unverification"},(0,Te.createElement)($e.CheckboxControl,{className:"phrase-checkbox-control--small",label:(0,E.__)("Skip unverification","phrase"),checked:e,onChange:()=>t(!e)}),(0,Te.createElement)(_t,null,(0,E.__)("This prevents the need to verify non-main language translations again when pushing content.","phrase"))),(0,Te.createElement)($e.Button,{icon:dt,isBusy:l,disabled:l||s,onClick:r,isTertiary:!0,className:"phrase-button--align-left"},(0,E._x)("Pull","pull content","phrase")),(0,Te.createElement)($e.Button,{icon:Qe,isBusy:s,disabled:l||s,onClick:()=>n({skipUnverification:e}),isSecondary:!0,className:"phrase-button--extra-padding"},(0,E._x)("Push","push content","phrase")))},Nt=e=>{let{selectedLocales:t,translations:n,preConditionChecks:r,selectLocale:s,unselectLocale:o}=e;const[i]=(0,Te.useState)(t),c=(0,a.useSelect)((e=>e(Ee).getPullTranslationsPreConditionChecksCount()),[]),{pullTranslations:u,clearPullTranslationsPreConditionChecks:h}=(0,a.useDispatch)(Ee);return r?(0,Te.createElement)($e.Modal,{title:(0,E.sprintf)(// translators: %d: Number of warnings.
(0,E._n)("%d warning","%d warnings",c,"phrase"),c),shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,focusOnMount:!0,onRequestClose:h,className:"phrase-pre-conditions-modal"},(0,Te.createElement)("div",{className:"phrase-pre-conditions-modal__content"},(0,Te.createElement)("p",null,(0,E.__)("Verify and confirm pulling translations for the following languages:","phrase")),(0,Te.createElement)("div",{className:"phrase-pre-conditions-checks"},i.map((e=>{const a=(0,l.find)(n,{id:e}),i=r[e]||[],c=i.length>0,u=i.map((e=>{switch(e){case"modified":return(0,E.__)("Post modified since last pull. If you pull, content may be lost.","phrase");case"published":return(0,E.__)("Post already published. Pulled content will be immediately live.","phrase");default:return(0,E.__)("Unknown error.","phrase")}}));return(0,Te.createElement)("div",{key:e,className:"phrase-pre-conditions-check"},(0,Te.createElement)($e.CheckboxControl,{className:"phrase-pre-conditions-check__locale",key:e,label:(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)(ze,{code:a.code})," ",a.name),checked:t.includes(e),onChange:t=>t?s(e):o(e)}),(0,Te.createElement)("div",{className:"phrase-pre-conditions-check__message"},c?(0,Te.createElement)(Te.Fragment,null,u.map((e=>(0,Te.createElement)("p",{key:e},(0,Te.createElement)(et,{className:"phrase-pre-conditions-check-icon",icon:tt}),e)))):(0,Te.createElement)(Te.Fragment,null,"–")))})))),(0,Te.createElement)("div",{className:"phrase-pre-conditions-modal__buttons"},(0,Te.createElement)($e.Button,{isSecondary:!0,onClick:h},(0,E.__)("Cancel","phrase")),(0,Te.createElement)($e.Button,{icon:dt,isPrimary:!0,disabled:0===t.length,onClick:()=>u(t,!0)},t.length>0?(0,E.sprintf)(// translators: %s: Number of selected languages.
(0,E.__)("Confirm and pull translations (%s)","phrase"),t.length):(0,E.__)("Confirm and pull translations","phrase")))):null},vt=()=>{const{pullTranslations:e}=(0,a.useDispatch)(Ee),[t,n]=(0,Te.useState)([]),{translations:r,isPulling:s,preConditionChecks:o}=(0,a.useSelect)((e=>{const{isPullingTranslations:t,getCurrentLocaleId:n,getTranslations:r,getPullTranslationsPreConditionChecks:s}=e(Ee),a=n();return{isPulling:t(),translations:(0,l.reduce)(r(),((e,t)=>(t.id!==a&&e.push(t),e)),[]),preConditionChecks:s()}}),[]),i=e=>{n([...t,e])},c=e=>{n(t.filter((t=>t!==e)))};return r?.length?(0,Te.createElement)(Te.Fragment,null,!!o&&(0,Te.createElement)(Nt,{translations:r,selectedLocales:t,selectLocale:i,unselectLocale:c,preConditionChecks:o}),(0,Te.createElement)("span",{className:"phrase-translation-progress__title"},(0,E.__)("Translations","phrase"),(0,Te.createElement)($e.CheckboxControl,{className:"phrase-checkbox-control--small",label:(0,E.__)("Select all","phrase"),checked:r.length===t.length,onChange:e=>e?void n([...r.map((e=>e.id))]):n([])})),(0,Te.createElement)("table",{className:"phrase-translation-progress__table"},(0,Te.createElement)("thead",null,(0,Te.createElement)("tr",null,(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--locale"},(0,E.__)("Language","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--status"},(0,E.__)("Status","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--update"},(0,E.__)("Last update","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--edit-link"}))),(0,Te.createElement)("tbody",null,r.map((e=>{let{id:n,name:r,code:s,percent_translated:a,last_updated:l,post_edit_url:o}=e;return(0,Te.createElement)("tr",{key:n},(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--locale"},(0,Te.createElement)($e.CheckboxControl,{className:"phrase-checkbox-control--small phrase-checkbox-control--with-flag",label:(0,Te.createElement)("span",{className:"phrase-locale-name-with-flag"},(0,Te.createElement)(ze,{code:s}),(0,Te.createElement)("span",{className:"phrase-locale-name"},r)),checked:t.includes(n),onChange:e=>e?i(n):c(n)})),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--status"},0===a&&(0,Te.createElement)(Et,null),a>0&&a<100&&(0,Te.createElement)(yt,null),100===a&&(0,Te.createElement)(Tt,null)),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--update"},l?(0,Te.createElement)(ht,{fromNow:!0},l):(0,E.__)("Never","phrase")),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--edit"},o&&(0,Te.createElement)($e.Button,{label:(0,E.__)("Edit translation","phrase"),showTooltip:!0,href:o,icon:nt})))})))),(0,Te.createElement)($e.Button,{icon:dt,isPrimary:!0,disabled:0===t.length||s,isBusy:s,onClick:()=>e(t),className:"phrase-pull-translation"},t.length>0?(0,E.sprintf)(// translators: %s: Number of selected languages.
(0,E.__)("Pull translations (%s)","phrase"),t.length):(0,E.__)("Pull translations","phrase"))):null};(0,ke.registerPlugin)("phrase-source-translation-progress",{render:()=>(0,Te.createElement)(Ke,{isPushed:!0},(0,Te.createElement)(je,null,(0,Te.createElement)($e.PanelRow,{className:"phrase-selected-project"},(0,Te.createElement)(pt,null)),(0,Te.createElement)($e.PanelRow,{className:"phrase-source-content"},(0,Te.createElement)(Pt,null)),(0,Te.createElement)($e.PanelRow,{className:"phrase-pull-push-source"},(0,Te.createElement)(St,null)),(0,Te.createElement)($e.PanelRow,{className:"phrase-translation-progress"},(0,Te.createElement)(vt,null))))});const Ct=e=>{let{children:t}=e;const{hasApiToken:n,isTranslations:r}=(0,a.useSelect)((e=>{const{getStatus:t,isEditedPostTranslation:n}=e(Ee);return{hasApiToken:t()?.has_key||!1,isTranslations:n()}}));return n&&r?t:null},wt=()=>{const{locale:e,source:t}=(0,a.useSelect)((e=>{const{getLocales:t,getCurrentLocaleId:n,getCurrentProjectId:r,getSource:s}=e(Ee);return{locale:(0,l.find)(t(r()),{id:n()})||null,source:s()}}),[]),{createInfoNotice:n}=(0,a.useDispatch)("core/notices");return(0,Te.useEffect)((()=>{if(!t||!e)return;const r=(0,Te.renderToString)((0,Te.createElement)(ze,{code:e.code}));n((0,E.sprintf)(// translators: 1: Locale name, 2: Locale icon, 3: Title and edit link of source.
(0,E.__)("%1$s %2$s - Translation of %3$s","phrase"),r,e?.name||(0,E.__)("Loading…","phrase"),`<a href="${t.post_edit_url}">${t.title}</a>`),{id:"phrase-translation-info-notice",speak:!1,__unstableHTML:!0,isDismissible:!1})}),[t,e]),null};(0,ke.registerPlugin)("phrase-translation-info-notice",{render:()=>(0,Te.createElement)(Ct,null,(0,Te.createElement)(wt,null))});const Lt=()=>{const e=(0,a.useSelect)((e=>e(Ee).getSource()));return e?(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)("span",null,(0,E.__)("Source content","phrase")),(0,Te.createElement)("table",{className:"phrase-translation-progress__table"},(0,Te.createElement)("thead",null,(0,Te.createElement)("tr",null,(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--title"},(0,E.__)("Title","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--update"},(0,E.__)("Last update","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--edit"}))),(0,Te.createElement)("tbody",null,(0,Te.createElement)("tr",null,(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--title"},(0,Te.createElement)("a",{href:e.post_edit_url},e.title)),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--update"},(0,Te.createElement)(ht,{fromNow:!0},e.last_updated)),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--edit"},(0,Te.createElement)($e.Button,{label:(0,E.__)("Edit source","phrase"),showTooltip:!0,href:e.post_edit_url,icon:nt})))))):null},bt=()=>{const{pullTranslation:e,pushTranslation:t}=(0,a.useDispatch)(Ee),{isPushing:n,isPulling:r}=(0,a.useSelect)((e=>{const{isPushingTranslation:t,isPullingTranslation:n}=e(Ee);return{isPushing:t(),isPulling:n()}}),[]);return(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)($e.Button,{icon:dt,isBusy:r,disabled:n||r,onClick:e,isTertiary:!0,className:"phrase-button--align-left"},(0,E._x)("Pull","pull translation","phrase")),(0,Te.createElement)($e.Button,{icon:Qe,isBusy:n,disabled:n||r,onClick:t,isSecondary:!0,className:"phrase-button--extra-padding"},(0,E._x)("Push","push translation","phrase")))},It=()=>{const e=(0,a.useSelect)((e=>{const{getTranslations:t,getCurrentLocaleId:n}=e(Ee);return(0,l.find)(t(),{id:n()})||null}),[]);if(!e)return null;const{name:t,code:n,percent_translated:r,last_updated:s}=e;return(0,Te.createElement)(Te.Fragment,null,(0,Te.createElement)("span",{className:"phrase-translation-progress__title"},(0,E.__)("Translation","phrase")),(0,Te.createElement)("table",{className:"phrase-translation-progress__table"},(0,Te.createElement)("thead",null,(0,Te.createElement)("tr",null,(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--locale"},(0,E.__)("Language","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--status"},(0,E.__)("Status","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--update"},(0,E.__)("Last update","phrase")),(0,Te.createElement)("th",{className:"phrase-translation-progress__table-column--edit"}))),(0,Te.createElement)("tbody",null,(0,Te.createElement)("tr",null,(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--locale"},(0,Te.createElement)("span",{className:"phrase-locale-name-with-flag"},(0,Te.createElement)(ze,{code:n}),(0,Te.createElement)("span",{className:"phrase-locale-name"},t))),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--status"},0===r&&(0,Te.createElement)(Et,null),r>0&&r<100&&(0,Te.createElement)(yt,null),100===r&&(0,Te.createElement)(Tt,null)),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--update"},s?(0,Te.createElement)(ht,{fromNow:!0},s):(0,E.__)("Never","phrase")),(0,Te.createElement)("td",{className:"phrase-translation-progress__table-column--edit"})))))};(0,ke.registerPlugin)("phrase-translation-progress",{render:()=>(0,Te.createElement)(Ve,null,(0,Te.createElement)($e.PanelRow,{className:"phrase-selected-project"},(0,Te.createElement)(pt,null)),(0,Te.createElement)($e.PanelRow,{className:"phrase-source-content"},(0,Te.createElement)(Lt,null)),(0,Te.createElement)($e.PanelRow,{className:"phrase-translation-progress"},(0,Te.createElement)(It,null)),(0,Te.createElement)($e.PanelRow,{className:"phrase-pull-push-translation"},(0,Te.createElement)(bt,null)))})})()})();